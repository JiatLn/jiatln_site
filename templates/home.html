{% extends "base.html" %}
{% load static %}
{% block title %}JiatLn's Blog{% endblock title %}





{% block header_extends %}
    {# https://www.hcharts.cn/docs/start-helloworld #}
    <link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}">
    <script src="http://cdn.hcharts.cn/highcharts/highcharts.js"></script>
    <script src="https://img.hcharts.cn/highcharts/themes/avocado.js"></script>
{% endblock header_extends %}


{% block content %}
<div class="row">
    <div class="col m7">
        <br><div id="mychart" style="width: 450px; height: 300px;"></div>
    </div>
    <div class="col s12 m6 l4 offset-l1">
        <aside>  
            <ul class="tabs tabs-fixed-width">
                <li class="tab col s3"><a href="#test1">近期文章</a></li>
                <li class="tab col s3"><a href="#test2">公众号</a></li>
                <li class="tab col s3"><a href="#test3">更多..</a></li>
            </ul>
            <div class="tab-content">
                <div id="test1" class="col s12">
                    {% for blog in recent_blogs %}
                        <p><span class="tri"></span><a href="{% url 'blog_detail' blog.pk %}">{{ blog.title }}</a></p>
                    {% endfor%}
                </div>
                <div id="test2" class="col">
                    <img width="180" style="text-align: center;" src="{% static 'images/qrcode.jpg' %}">
                </div>
                <div id="test3" class="col">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                    consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                </div>
            </div>
        </aside>
    </div>
</div>
{% endblock content %}

{% block script_extends %}
    <script type="text/javascript" src="{% static 'js/home.js' %}"></script>
    <script type="text/javascript">
        $(document).ready(function(){
          $('.carousel').carousel();
        });
    </script>
    <script type="text/javascript">
        // 图表配置
        var options = {
            chart: { type: 'line' },
            title: { text: '近7天的访问量' },
            xAxis: {
                categories: {{ read_date|safe }},
                tickmarkPlacement: 'on'
            },
            yAxis: {
                title: { text: null },
                labels: { enabled: false },
                gridLineDashStyle: 'Dash',
            },
            series: [{                              // 数据列
                name: '访问量',                        // 数据列名
                data: {{ read_count }},                     // 数据
                showInLegend: false,
                color: 'pink'
            }],
            credits: { enabled: false },
            plotOptions: {
                line: {
                    dataLabels: { enabled: true, color: '#26a69a' }
                }
            }
        };
        // 图表初始化函数
        var chart = Highcharts.chart('mychart', options);
    </script>
{% endblock script_extends %}